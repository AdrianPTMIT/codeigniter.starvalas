<!-- opt + shift + f -->

<script>
  AOS.init();
</script>

<script>

</script>



<!-- info slideshow -->

<!-- Carousel Section -->
<div id="headerCarousel" class="carousel slide" data-bs-ride="carousel">
  <!-- Indicators -->
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#headerCarousel" data-bs-slide-to="0" class="active" aria-current="true"
      aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#headerCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#headerCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
  </div>



  <!-- Carousel Items -->
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img
        src="https://images.pexels.com/photos/6266445/pexels-photo-6266445.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
        class="d-block w-100" style="filter: brightness(0.6)" alt="Slide 1" />
      <div class="carousel-caption">
        <div class="container">
          <div class="row">
            <div class="col-md-5 p-4 text-md-start">
              <p class="fw-bold h4" style="
                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana,
                        sans-serif;
                    ">
                Transaksi Mudah Dengan Kurs Terbaik, Solusi Penukaran Uang
                Anda !


              </p>
              <p class="text-white mb-4" style="
                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana,
                        sans-serif;
                    ">
                Lorem ipsum dolor sit amet consectetur. Id volutpat at
                viverra fermentum condimentum at elementum.
              </p>
            </div>
            <div class="container my-5 px-5 text-md-start" style="
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                  ">
              <button type="button" class="btn btn-primary rounded-pill px-5 py-2">
                Hubungi Kami
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="carousel-item">
      <img
        src="https://images.pexels.com/photos/6694543/pexels-photo-6694543.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
        class="d-block w-100" style="filter: brightness(0.6)" alt="Slide 2" />
      <div class="carousel-caption">
        <div class="container">
          <div class="row">
            <div class="col-md-5 p-4 text-md-start">
              <p class="fw-bold h4" style="
                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana,
                        sans-serif;
                    ">
                Transaksi Mudah Dengan Kurs Terbaik, Solusi Penukaran Uang
                Anda !
              </p>
              <p class="text-white mb-4" style="
                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana,
                        sans-serif;
                    ">
                Lorem ipsum dolor sit amet consectetur. Id volutpat at
                viverra fermentum condimentum at elementum.
              </p>
            </div>
            <div class="container my-5 px-5 text-md-start" style="
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                  ">
              <button type="button" class="btn btn-primary rounded-pill px-5 py-2">
                Hubungi Kami
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="carousel-item">
      <img
        src="https://images.pexels.com/photos/12008048/pexels-photo-12008048.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"
        class="d-block w-100" style="filter: brightness(0.6)" alt="Slide 3" />
      <div class="carousel-caption">
        <div class="container">
          <div class="row">
            <div class="col-md-5 p-4 text-md-start">
              <p class="fw-bold h4" style="
                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana,
                        sans-serif;
                    ">
                Transaksi Mudah Dengan Kurs Terbaik, Solusi Penukaran Uang
                Anda !
              </p>
              <p class="text-white mb-4" style="
                      font-family: 'Segoe UI', Tahoma, Geneva, Verdana,
                        sans-serif;
                    ">
                Lorem ipsum dolor sit amet consectetur. Id volutpat at
                viverra fermentum condimentum at elementum.
              </p>
            </div>
            <div class="container my-5 px-5 text-md-start" style="
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                  ">
              <button type="button" class="btn btn-primary rounded-pill px-5 py-2">
                Hubungi Kami
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Controls -->
  <button class="carousel-control-prev" type="button" data-bs-target="#headerCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#headerCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>

<br />
<br />
<br />
<br />

<div class="container mb-3">
  <div class="d-flex justify-content-center">
    <div class="d-inline-flex px-3 py-2 rounded-pill shadow-sm border">
      <img src="https://cdn-icons-png.freepik.com/512/5339/5339162.png?ga=GA1.1.1573341034.1748252290" alt=""
        height="45px" width="45px" class="me-0" />
      <p class="h3 mb-0 mx-2 my-1 fw-bold">TABELKURS STARVALAS</p>
    </div>
  </div>
</div>



<div data-aos="zoom-in">
  <div class="d-flex justify-content-center mt-2 py-2">
    <div class="d-inline-flex bg-light px-3 py-2 rounded-pill shadow-sm border align-items-center">
      <img src="https://cdn-icons-png.freepik.com/512/6475/6475355.png?ga=GA1.1.1573341034.1748252290" alt=""
        height="40px" width="40px" />
      <h5 class="mx-2 mb-0 fw-semibold" style="font-size: 1.1rem">
        Last Updated Rates:
      </h5>
      <p class="text-black fw-semibold text-muted mb-0" style="font-size: 1rem">
        <?= esc($lastUpdate) ?>
      </p>
    </div>
  </div>
</div>


<style>
  table,
  thead,
  tbody {
    margin: auto;
    width: 70% !important;
    border: 2px solid black;
  }
</style>

<?php
$specialCases = [
  'CNH' => 'cny'
];
?>

<script>
  $.ajax({
    method: "GET",
    url: 'api/kursdata',
    dataType: 'json',
    success: function (response) {
      const rates = response.rates || response;
      if (rates && rates.length) {
        $('#records_table tbody').empty();

        rates.forEach(rate => {
          const flagCode = <?= json_encode($specialCases) ?>[rate.currency_code] || rate.currency_code.toLowerCase();
          const middleRate = ((parseFloat(rate.sell_rate) + parseFloat(rate.buy_rate)) / 2).toFixed(2);

          $(document).ready(function () {
            $("#records_table tbody tr:even").css("background-color", "lightblue");
          });
          $(document).ready(function () {
            $("#records_table tbody tr:odd").css("background-color", "lightgrey");
          });
          // ref: https://stackoverflow.com/questions/52713424/how-to-do-table-row-animate-one-by-one utk fadein animate

          $('#records_table tbody').append(`
            <tr>
              <td class="fw-bold" >
               <img
                  src="https://raw.githubusercontent.com/Lissy93/currency-flags/f0eccce50033389e922bca813e54435e0e93150c/assets/flags_svg/${flagCode}.svg"
                  style="height:40px; width:auto;">
                ${rate.currency_code}
              </td>
              <td>${rate.sell_rate}</td>
              <td>${rate.buy_rate}</td>
              <td>${middleRate}</td>
            </tr>
          `);

          $("#records_table tbody tr").hide();
          $("#records_table tbody tr").each(function (index) {
            $(this).delay(index * 100).show("slow");
          });

        });
      }
    }
  });
</script>

<style>
  .hover {
    background-color: #cad7e2;
  }
</style>





<div data-aos="fade-up" data-aos-anchor-placement="top-bottom">
  <div class="table">
    <table id="records_table">
      <thead class="text-center h5">
        <tr>
          <th>Currency</th>
          <th>Sell Rate</th>
          <th>Buy Rate</th>
          <th>Middle Rate</th>
        </tr>
      </thead>
      <tbody class="text-center" style="font-size: 19px;">
        <?php if (!empty($rates)): ?>
          <?php foreach ($rates as $rate): ?>
            <?php $flagCode = $specialCases[$rate['currency_code']] ?? strtolower($rate['currency_code']); ?>
            <tr>
              <td class="fw-bold">
                <img
                  src="https://raw.githubusercontent.com/Lissy93/currency-flags/f0eccce50033389e922bca813e54435e0e93150c/assets/flags_svg/<?= esc($flagCode) ?>.svg"
                  style="height:40px; width:auto;">
                <?= esc($rate['currency_code']) ?>
              </td>
              <td><?= esc($rate['sell_rate']) ?></td>
              <td><?= esc($rate['buy_rate']) ?></td>
              <td><?= esc(($rate['sell_rate'] + $rate['buy_rate']) / 2) ?></td>
            </tr>
          <?php endforeach; ?>
        <?php else: ?>
          <p>No rates available. Please try again later.</p>
        <?php endif; ?>
      </tbody>
    </table>
  </div>
</div>



<style>
  .textkurs {
    animation: fadeIn infinite alternate ease 2s;
  }

  @keyframes fadeIn {
    0% {
      opacity: 0;
    }

    100% {
      opacity: 1;
    }
  }
</style>
<div class="d-flex justify-content-center ">
  <img class="textkurs mx-2" src="https://starvalas.co.id/icons/icon_arrow.svg" alt="">
  <p class="textkurs my-0 fw-semibold" style="font-size: 23px;">Tabel hanya sebagai indikasi. Kurs transaksi dapat
    berubah sesuai fluktuasi pasar.</p>
</div>








<br />
<div data-aos="flip-down">
  <div class="warning-box text-start">
    <div class="warning-icon mx-5">
      <img src="https://cdn-icons-png.freepik.com/512/8848/8848378.png?ga=GA1.1.1573341034.1748252290" width="50px"
        height="50px" />
    </div>
    <div class="warning-text">
      <h5>Waspada Penipuan</h5>
      <p>
        PT Star Valas Indonesia hanya menggunakan rekening bank atas nama:
        <strong>PT Star Valas Indonesia</strong>
      </p>
    </div>
  </div>
</div>

<br />

<style>
  .branch-img {
    height: 180px;
    width: 100%;
    object-fit: cover;
    border-radius: 8px;
  }
</style>

<?php
$db = \Config\Database::connect();

$query = $db->query('SELECT * FROM branch');

$results = $query->getResult();


?>



<div class="container my-5">
  <h2 class="text-center mb-4 fw-bold">Cabang Kami</h2>



  <!-- Initial 3 Branches -->
  <div data-aos="fade-up" data-aos-easing="linear" data-aos-duration="500">
    <div class="row d-flex justify-content-around">
      <?php foreach ($results as $row) { ?>
        <div class="col-md-4 mb-4">
          <div class="card branch-animation branch-card  h-100 ">
            <div class="card-body">
              <!-- <img src="<?php // $row->image_url ?>" alt="" class="img-fluid mb-3 branch-img" /> -->
              <h5 class="card-title"><?php echo $row->name ?></h5>
              <small>Opening Hours:<br /><?php echo $row->openweek ?><br /><?php echo $row->openhour ?></small>
              <br />
              <br />
              <p class="card-text" style="font-size: medium">
                <?php echo $row->address ?>
              </p>
            </div>
          </div>
        </div>
      <?php } ?>
    </div>
  </div>
</div>


<!-- Read More Button -->
<div class="text-center" id="findMoreBranchesBtnWrapper">
  <button class="btn btn-outline-primary" id="showMoreBtn">
    Find More Branches
  </button>
</div>

<!-- Hidden Branches Section -->
<!-- <div class="row justify-content-center mt-4 d-none fade-in-branches" id="moreBranches">
      <div class="col-md-4 mb-3">
        <div class="card branch-card h-100">
          <div class="card-body">
            <img src="images/starvalas-pic.webp" alt="" class="img-fluid mb-3 branch-img" />
            <h5 class="card-title">Star Valas Serpong</h5>
            <small>Opening Hours:<br />Sun–Thu: 10:00–19:00<br />Fri–Sat:
              10:00–20:00</small>
            <br />
            <br />
            <p class="card-text" style="font-size: medium">
              Jl. Raya Serpong No. 88, Serpong, Tangerang Selatan, Banten
              15326
            </p>
          </div>
        </div>
      </div> -->




<br />



<script>

  // fetch('api/branches')
  // .then(response => response.json())
  //   .then(data => console.log(data))
  //   .catch(error => console.error('Error:', error));

  async function fetchData() {

    try {
      const res = await fetch('api/branches');
      const data = res.json();
      return data;

    } catch (err) {
      console.log(err)
    }
    z
  }

  fetchData();

</script>


<br>
<br>
<br>

<!-- <div class="container">
      <h2 class="section-title">Kenapa Pilih Star Valas</h2>

      <div class="scroll-service">
        <div class="service-card col">
          <div class="service-icon"></div>
          <div class="service-title">Akses Mudah & Strategis</div>
          <p class="service-text">
            Berada di pusat bisnis utama, memudahkan anda dalam transaksi
          </p>
        </div>

        <div class="service-card col">
          <div class="service-icon"></div>
          <div class="service-title">Kurs Istimewa</div>
          <p class="service-text">Dapatkan special rate (S&K Berlaku)</p>
        </div>

        <div class="service-card col">
          <div class="service-icon"></div>
          <div class="service-title">Ketersediaan Tanpa Batas</div>
          <p class="service-text">
            Stok valas selalu tersedia, memastikan kebutuhan anda terpenuhi
          </p>
        </div>

        <div class="service-card col">
          <div class="service-icon"></div>
          <div class="service-title">Kemudahan Ekstra</div>
          <p class="service-text">
            Nikmati layanan antar langsung ke lokasi Anda (S&K Berlaku)
          </p>
        </div>

        <div class="service-card col">
          <div class="service-icon"></div>
          <div class="service-title">Pilihan Mata Uang yang Luas</div>
          <p class="service-text">
            We deal with all major currencies including USD, EUR, GBP, SGD, AUD,
            JPY and more.
          </p>
        </div>
        <div class="service-card col">
          <div class="service-icon"></div>
          <div class="service-title">Tarif Kompetitif</div>
          <p class="service-text">
            Kami menawarkan nilai tukar paling kompetitif di Indonesia tanpa
            biaya atau komisi tersembunyi.
          </p>
        </div>
      </div>
    </div> -->

<style>
  .scroll-service {
    display: flex;
    overflow-x: auto;
    gap: 24px;
    cursor: grab;
    padding-bottom: 16px;
    scroll-behavior: smooth;
  }

  .scroll-service.active {
    scroll-behavior: auto;
    /* instant scroll while dragging */
    cursor: grabbing;
  }

  .scroll-indicator-container {
    width: 100%;
    height: 6px;
    background: #e0e0e0;
    border-radius: 3px;
    margin: 8px 0 24px 0;
    overflow: hidden;
  }

  .scroll-indicator-bar {
    height: 100%;
    width: 20%;
    background: linear-gradient(90deg, #0d2c6c 60%, #2e7be6 100%);
    border-radius: 3px;
    transition: width 0.2s;
  }
</style>

<div class="container">
  <h2 class="section-title">Kenapa Pilih Star Valas</h2>
  <div class="scroll-service" id="benefitScroll">
    <div class="service-card col">
      <div class="service-icon mb-3">
        <img src="https://img.icons8.com/fluency/48/marker.png" alt="Akses Mudah" />
      </div>
      <div class="service-title">Akses Mudah & Strategis</div>
      <p class="service-text text-center">
        Berada di pusat bisnis utama, memudahkan anda dalam transaksi
      </p>
    </div>
    <div class="service-card col">
      <div class="service-icon mb-3">
        <img src="https://img.icons8.com/fluency/48/money.png" alt="Kurs Istimewa" />
      </div>
      <div class="service-title">Kurs Istimewa</div>
      <p class="service-text text-center">
        Dapatkan special rate (S&K Berlaku)
      </p>
    </div>
    <div class="service-card col">
      <div class="service-icon mb-3">
        <img src="https://img.icons8.com/fluency/48/warehouse.png" alt="Ketersediaan" />
      </div>
      <div class="service-title col">Ketersediaan Tanpa Batas</div>
      <p class="service-text text-center">
        Stok valas selalu tersedia, memastikan kebutuhan anda terpenuhi
      </p>
    </div>
    <div class="service-card col">
      <div class="service-icon mb-3">
        <img src="https://img.icons8.com/fluency/48/delivery.png" alt="Kemudahan Ekstra" />
      </div>
      <div class="service-title col">Kemudahan Ekstra</div>
      <p class="service-text text-center">
        Nikmati layanan antar langsung ke lokasi Anda (S&K Berlaku)
      </p>
    </div>
    <div class="service-card col">
      <div class="service-icon mb-3">
        <img src="https://img.icons8.com/fluency/48/currency-exchange.png" alt="Pilihan Mata Uang" />
      </div>
      <div class="service-title">Pilihan Mata Uang yang Luas</div>
      <p class="service-text text-center">
        Kami menyediakan beragam jenis mata uang asing, tidak hanya USD, tapi juga EUR, SGD, AUD, JPY, dan lainnya.
      </p>
    </div>
    <div class="service-card col">
      <div class="service-icon mb-3">
        <img src="https://img.icons8.com/fluency/48/cheap-2.png" alt="Tarif Kompetitif" />
      </div>
      <div class="service-title">Tarif Kompetitif</div>
      <p class="service-text text-center">
        Kami menawarkan nilai tukar paling kompetitif di Indonesia tanpa
        biaya atau komisi tersembunyi.
      </p>
    </div>
    <div class="service-card col">
      <div class="service-icon mb-3">
        <img src="https://img.icons8.com/?&id=QDgOnr6UAOmg&format=png" alt="Real-time" />
      </div>
      <div class="service-title">Update Kurs Real-Time</div>
      <p class="service-text text-center">
        Kami memberikan informasi kurs secara real-time sehingga
        konsumer dapat memantau perubahan kurs.
      </p>
    </div>
  </div>
  <div class="scroll-indicator-container">
    <div class="scroll-indicator-bar" id="benefitScrollBar"></div>
  </div>
</div>



<script>
  // Enable click-drag horizontal scroll for .scroll-service
  const benefitScroll = document.getElementById('benefitScroll');
  let isDown = false;
  let startX;
  let scrollLeft;

  benefitScroll.addEventListener('mousedown', (e) => {
    isDown = true;
    benefitScroll.classList.add('active');
    startX = e.pageX - benefitScroll.offsetLeft;
    scrollLeft = benefitScroll.scrollLeft;
  });
  benefitScroll.addEventListener('mouseleave', () => {
    isDown = false;
    benefitScroll.classList.remove('active');
  });
  benefitScroll.addEventListener('mouseup', () => {
    isDown = false;
    benefitScroll.classList.remove('active');
  });
  benefitScroll.addEventListener('mousemove', (e) => {
    if (!isDown) return;
    e.preventDefault();
    const x = e.pageX - benefitScroll.offsetLeft;
    const walk = (x - startX) * 1.0; // Increase multiplier for faster drag
    benefitScroll.scrollLeft = scrollLeft - walk;
  });

  // Touch support for mobile
  benefitScroll.addEventListener('touchstart', (e) => {
    isDown = true;
    benefitScroll.classList.add('active');
    startX = e.touches[0].pageX - benefitScroll.offsetLeft;
    scrollLeft = benefitScroll.scrollLeft;
  });
  benefitScroll.addEventListener('touchend', () => {
    isDown = false;
    benefitScroll.classList.remove('active');
  });
  benefitScroll.addEventListener('touchmove', (e) => {
    if (!isDown) return;
    const x = e.touches[0].pageX - benefitScroll.offsetLeft;
    const walk = (x - startX) * 3.5; // Increase multiplier for faster drag
    benefitScroll.scrollLeft = scrollLeft - walk;
  });

  // ...existing drag-to-scroll code...

  // Scroll indicator update
  const benefitScrollBar = document.getElementById('benefitScrollBar');
  function updateScrollBar() {
    const maxScroll = benefitScroll.scrollWidth - benefitScroll.clientWidth;
    const percent = maxScroll === 0 ? 1 : benefitScroll.scrollLeft / maxScroll;
    benefitScrollBar.style.width = `${Math.max(20, percent * 100)}%`;
  }
  benefitScroll.addEventListener('scroll', updateScrollBar);
  window.addEventListener('resize', updateScrollBar);
  updateScrollBar();

</script>

<script>
  // Optional: Auto-scroll horizontally every 3 seconds
  document.addEventListener("DOMContentLoaded", function () {
    const scrollContainer = document.getElementById("benefitScroll");
    if (!scrollContainer) return;
    let scrollAmount = 0;
    const card = scrollContainer.querySelector(".service-card");
    if (!card) return;
    const cardWidth = card.offsetWidth + 20; // 20px gap
    const maxScroll =
      scrollContainer.scrollWidth - scrollContainer.clientWidth;

    setInterval(() => {
      scrollAmount += cardWidth;
      if (scrollAmount > maxScroll) scrollAmount = 0;
      scrollContainer.scrollTo({ left: scrollAmount, behavior: "smooth" });
    }, 3000);
  });
</script>

<br />
<br />
<br />
